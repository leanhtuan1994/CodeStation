s:7339:"<p></p><h2>Giới thiệu</h2><p>Cocos2d-x là một engine hỗ trợ lập trình game khá mạnh mẽ hiện nay, với số lượng người dùng rất đông đảo. Qua bài viết này tôi sẽ hướng dẫn các bạn cách cài đặt và build project trên android cũng như trên win32.</p><h2>Đối tượng hướng đến</h2><p>Bài viết dành cho các bạn đang muốn tìm hiểu về cocos2d-x nhưng chưa biết cách cài đặt.</p><h2>Chuẩn bị</h2><h3>1. Cocos2d-x v3.4</h3><p>http://www.cocos2d-x.org/download</p><p><a><img alt="ss_1" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_1.png" /></a></p><h3>2. Python 2.7.9</h3><p>https://www.python.org/downloads/</p><p><a><img alt="ss_2" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_2.png" /></a></p><h3>3. Android Studio</h3><p>(Nền tảng- để build ra file apk cho android).</p><p>http://developer.android.com/sdk/index.html</p><p><a><img alt="ss_3" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_3.png" /></a></p><h3>4. NDK10</h3><p>(Dựa theo Hệ điều hành bạn đang dùng mà down bản thích hợp, ở đây tôi dùng hệ điều hành windows 64 bit).</p><p>http://developer.android.com/tools/sdk/ndk/index.html</p><p><a><img alt="ss_4" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_4.png" /></a></p><h3>5. JDK8</h3><p>www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</p><p><a><img alt="ss_5" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_5.png" /></a></p><h3>6. ANT 1.9.4</h3><p>http://ant.apache.org/bindownload.cgi</p><p><a><img alt="ss_6" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_6.png" /></a></p><h3>7. Visual studio 2013</h3><p>(Hoặc Visual studio 2012).</p><h2>Tiến hành cài đặt</h2><h3>Bước 1: Cài đặt python, JDK, Visual Studio</h3><p>Cài đặt python, JDK, Visual Studio như các soft bình thường khác.</p><h3>Bước 2: Tạo thư mục để lưu trữ "nguyên liệu"</h3><p>Tạo một thư mục riêng để chứa các “nguyên liệu” đã tải về như ANT, NDK, Android Studio, cocos2d-x. Ở đây tôi tạo thư mục tên android. Bên trong thư mục android tạo các thư mục con với tên lần lượt là ANT, NDK, SDK.</p><p><a><img alt="ss_7" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_7.PNG" /></a></p><h3>Bước 3: Giải nén cocos2d-x, ANT, NDK và cài đặt android studio</h3><ul><li>Giải nén cocos2d-x-3.4.</li><li>Giải nén apache-ant-1.9.4-bin vào thư mục ANT.</li><li>Giải nén android-ndk-r10d vào thư mục NDK.</li><li>Cài đặt android studio như bình thường và tìm đường dẫn đến thư mục SDK.</li></ul><h3>Bước 4: Cài đặt SDK</h3><p>Chạy file SDK.exe trong Android/SDK để cài đặt các bộ SDK của Android.</p><p><a><img alt="ss_8" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_8.PNG" /></a></p><p><a><img alt="ss_9" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_9.PNG" /></a></p><h3>Bước 5: Thiết lập Environment Variable</h3><p>Phải chuột vào Mycomputer/Properties/Advanced System setting/ Environment Variable như hình:</p><p><a><img alt="ss_10" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_10.png" /></a></p><p>Ở phần User variables for User thêm vào các đường dẫn bên dưới:</p><p>(Lưu ý: Ở đây tôi làm theo đường dẫn các thư mục ở máy tính của tôi, các bạn dựa vào để thiết lập đường dẫn trên máy tính của các bạn).</p><pre></pre><ol><li>ANDROID_SDK_ROOT        E:/Android/SDK</li><li>COCOS_CONSOLE_ROOT      E:/Android/cocos2d-x-3.4/tools/cocos2d-console/bin</li><li>Path                    E:/Android/cocos2d-x-3.4/tools/cocos2d-console/bin</li><li>JAVA_HOME               C:/Program Files/Java/jdk1.8.0_40</li></ol><p><a><img alt="ss_11" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_11.png" /></a></p><p>Tương tự ở phần System Variable cũng thêm vào các đường dẫn bên dưới:</p><pre></pre><ol><li>​ANT_HOME        E:\Android\ANT</li><li>ANT_ROOT        E:\Android\ANT\bin</li><li>NDK_ROOT        E:\Android\NDK</li><li>Path            C:\Python27;C:\Python27\Python.exe;E:\Android\SDK\platform-tools;%path%;%ANT_HOME%/bin;</li></ol><h3>Bước 6: Chạy file setup.py của cocos2d-x</h3><p>Vào thư mục E:/Android/cocos2d-x-3.4. Trên thanh địa chỉ gõ vào cmd và Enter.</p><p><a><img alt="ss_12" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_12.PNG" /></a></p><p>Cửa sổ CMD hiện lên bạn chạy file setup.py bằng dòng lệnh python setup.py được như sau:</p><p><a><img alt="ss_13" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_13.png" /></a></p><h3>Bước 7: Tạo project</h3><p>Mở CMD lên và gõ vào dòng lệnh sau:</p><pre></pre><ol><li>cocos new Test –p vn.stdio.play –l cpp –d E:\android\project</li></ol><p><a><img alt="s_14" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/s_14.png" /></a></p><p>Giải thích</p><ul><li>Test là tên gọi của project tôi vừa tạo.</li><li>vn.stdio.play là tên của package cho nền tảng android.</li><li>cpp: Chọn C++ làm  ngôn ngữ để viết game.</li><li>E:/android/project là thư mục để chứa project tôi vừa tạo.</li></ul><h3>Bước 8: Build và chạy thử project trên win32</h3><h4>Build trên win32</h4><p>Để build trên win 32 có thể vào E:/Android/project/Test/proj.win32 mở file solution lên và build bình thường.</p><p>Hoặc có thể gõ dòng lệnh sau trên CMD:</p><pre></pre><ol><li>cocos compile –s E:\android\project\Test –p win32</li></ol><p>Hiện ra bảng bên thì quá trình build cho win32 đã thành công.</p><p><a><img alt="ss_15" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_15.png" /></a></p><h4>Chạy chương trình</h4><pre></pre><ol><li>cocos run –s E:\android\project\Test –p win32</li></ol><p>Kết quả nhận được:</p><p><a><img alt="ss_16" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_16.png" /></a></p><h3>Bước 9: Build trên android</h3><p>Để build trên android ta mở cmd lên vào gõ lệnh như sau:</p><pre></pre><ol><li>cocos compile –s E:\android\project\Test –p android</li></ol><p>Hiện ra bảng dưới thì quá trình build ra đã thành công. Có thể vào E:/Android/project/Test/proj.android/bin để kiểm tra file Test-debug.apk.</p><p><a><img alt="ss_17" src="https://www.stdio.vn/statics/external_data/files/pages/articles/2015/218/content/ss_17.png" /></a></p><p>Bài hướng dẫn này được thực hiện trên Hệ điều hành windows 7. Chưa kiểm tra tính đúng đắn trên các HĐH khác.</p>";